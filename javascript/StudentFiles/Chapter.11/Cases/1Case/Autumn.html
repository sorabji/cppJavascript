<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang = "en" dir="ltr">
<head>
<title>Autumn</title>
<style type="text/css" media="screen">
  body{background-color:black;}
</style>
<script type="text/javascript">
leafs = [["leaf1.gif",100,84],
    ["leaf2.gif",51,95],
    ["leaf3.gif",100,84],
    ["leaf4.gif",95,51],
    ["leaf5.gif",63,75],
    ["leaf6.gif",51,95]];

function Leaf(){
  this.leafStats = leafs[Math.floor(Math.random() * 6)];
  if (navigator.appName == "Microsoft Internet Explorer"){
    this.windowWidth = document.documentElement.clientWidth;
    this.windowHeight = document.documentElement.clientHeight;
  } else {
    this.windowWidth = window.innerWidth;
    this.windowHeight = window.innerHeight;
  }

  this.image = new Image();
  this.image.src = this.leafStats[0];
  this.image.height = this.leafStats[1];
  this.image.width = this.leafStats[2];
  this.image.style.left = ""+(Math.floor(Math.random() * this.windowWidth))+"px";
  this.image.style.top = ""+(Math.floor(Math.random() * this.windowHeight))+"px";
  this.image.style.position="absolute";

  this.speed = Math.floor(Math.random() * 100);
  if (0 == this.speed){
    this.speed = 1;
  }

  this.fallLeaf = function(){
    var currentY = parseInt(this.image.style.top.substring(0,this.image.style.top.length-2));
    if (currentY < this.windowHeight){
      var newY = currentY + this.speed;
      this.image.style.top = newY + "px";
    } else {
      this.image.style.top = "0px";
    }
    /*var currentX = parseInt(this.image.style.left.substring(0,this.image.style.left.length-2));
    if (currentX < this.windowWidth){
      var newX = currentX + this.speed;
      this.image.style.left = newX + "px";
    } else {
      this.image.style.left = "0px";
    }*/

  }

  document.getElementById('leafs').appendChild(this.image);
  //document.body.appendChild(this.image);
}


//var div = document.getElementById("leafs");
var leafArray = new Array();

function start(){
  for(var i=0; i<50;i++){
    leafArray[i] = new Leaf();
  }
  setInterval('allLeavesFall()',100);
}

function allLeavesFall(){
  for(var i=0;i<leafArray.length;i++){
    leafArray[i].fallLeaf();
  }
}

</script>
</head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<body onload="start();">
<div id="leafs"></div>

</body>
</html>
